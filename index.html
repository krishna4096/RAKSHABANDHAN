<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>रक्षाबंधन की हार्दिक शुभकामनाएं!</title>
    <!-- Font Awesome for WhatsApp icon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Google Fonts for more decorative text -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Sacramento&family=Noto+Sans+Devanagari:wght@400;700&family=Kalam:wght@300;400;700&display=swap">
    <style>
        body {
            font-family: 'Noto Sans Devanagari', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            background: 
                radial-gradient(circle at center, rgba(255,255,255,0.1) 0%, transparent 70%),
                linear-gradient(135deg, #ff9a9e 0%, #fad0c4 25%, #ffecd2 50%, #fcb69f 75%, #ff9a9e 100%);
            color: #4a2c00;
            text-align: center;
            padding: 15px;
            box-sizing: border-box;
            overflow: hidden;
            position: relative;
            cursor: default;
        }
        #container {
            background-color: rgba(255, 255, 255, 0.98);
            padding: 25px 35px;
            border-radius: 25px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3), inset 0 0 20px rgba(255, 215, 0, 0.5);
            max-width: 600px;
            width: 100%;
            border: 8px ridge #ffcc00;
            box-sizing: border-box;
            position: relative; 
            z-index: 2;
            animation: bounceIn 1.5s ease-out;
        }
        @keyframes bounceIn {
            0%, 20%, 40%, 60%, 80%, 100% { transition-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000); }
            0% { opacity: 0; transform: scale3d(.3, .3, .3); }
            20% { transform: scale3d(1.1, 1.1, 1.1); }
            40% { transform: scale3d(.9, .9, .9); }
            60% { opacity: 1; transform: scale3d(1.03, 1.03, 1.03); }
            80% { transform: scale3d(.97, .97, .97); }
            100% { opacity: 1; transform: scale3d(1, 1, 1); }
        }
        h1 {
            font-family: 'Sacramento', cursive;
            color: #8B0000;
            margin-bottom: 25px;
            font-size: clamp(2.5em, 8vw, 3.5em);
            font-weight: 700;
            animation: textGlow 2s infinite alternate;
            text-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2), 0 0 15px rgba(255, 215, 0, 0.8);
        }
        @keyframes textGlow {
            from { text-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2), 0 0 15px rgba(255, 215, 0, 0.8); }
            to { text-shadow: 3px 3px 10px rgba(0, 0, 0, 0.3), 0 0 25px rgba(255, 215, 0, 1); }
        }
        #laxmiImage {
            max-width: 90%;
            height: auto;
            margin-bottom: 30px;
            border-radius: 50%;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3), 0 0 20px rgba(255, 215, 0, 0.7);
            border: 6px double #FFD700;
            animation: imageZoomIn 2s ease-in-out;
            transition: transform 0.3s ease;
        }
        #laxmiImage:hover {
            transform: rotate(5deg) scale(1.05);
        }
        @keyframes imageZoomIn {
            from { opacity: 0; transform: scale(0.5); }
            to { opacity: 1; transform: scale(1); }
        }
        .shayari-container {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 140, 0, 0.2));
            border-radius: 20px;
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid #ffcc00;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }
        .shayari-container::before {
            content: """;
            position: absolute;
            top: -20px;
            left: 10px;
            font-size: 80px;
            color: rgba(255, 215, 0, 0.3);
            font-family: 'Kalam', cursive;
        }
        .shayari-container::after {
            content: """;
            position: absolute;
            bottom: -50px;
            right: 10px;
            font-size: 80px;
            color: rgba(255, 215, 0, 0.3);
            font-family: 'Kalam', cursive;
        }
        .shayari-text {
            font-family: 'Kalam', cursive;
            font-size: 1.4em;
            color: #8B4513;
            font-weight: 700;
            line-height: 1.6;
            position: relative;
            z-index: 1;
            animation: fadeIn 2s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        label {
            display: block;
            margin-bottom: 15px;
            font-size: 1.3em;
            color: #6a4f00;
            font-weight: 700;
        }
        input[type="text"] {
            width: calc(100% - 24px);
            padding: 15px;
            margin-bottom: 25px;
            border: 3px solid #ccc;
            border-radius: 12px;
            font-size: 1.2em;
            box-sizing: border-box;
            color: #333;
            background-color: #fffaf0;
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }
        input[type="text"]:focus {
            border-color: #d35400;
            outline: none;
            box-shadow: 0 0 15px rgba(211, 84, 0, 0.5);
        }
        .action-buttons {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        button {
            background: linear-gradient(135deg, #ffcc00, #ff9500);
            color: white;
            padding: 16px 35px;
            border: none;
            border-radius: 12px;
            font-size: 1.3em;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            text-transform: uppercase;
            letter-spacing: 1px;
            width: 100%;
            box-sizing: border-box;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        button i {
            margin-right: 12px;
            font-size: 1.6em;
        }
        #whatsappShareBtn i {
            animation: iconPulse 1.5s infinite alternate;
        }
        @keyframes iconPulse {
            from { transform: scale(1); }
            to { transform: scale(1.1); }
        }
        button:hover {
            background: linear-gradient(135deg, #ff9500, #d35400);
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.4);
        }
        button:active {
            transform: translateY(0);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        #whatsappShareBtn {
            background: linear-gradient(135deg, #25D366, #1DA851);
        }
        #whatsappShareBtn:hover {
            background: linear-gradient(135deg, #1DA851, #0F9641);
        }
        #generatedLinkContainer {
            margin-top: 40px;
            padding: 25px;
            background-color: #fff8dc;
            border: 3px dashed #ffb300;
            border-radius: 20px;
            display: none;
            box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        #generatedLinkContainer p {
            margin-top: 0;
            font-size: 1.2em;
            color: #795548;
            font-weight: 600;
        }
        #generatedLink {
            width: calc(100% - 20px);
            padding: 14px;
            border: 2px solid #ffcc00;
            border-radius: 10px;
            background-color: #ffffe0;
            font-size: 1.05em;
            overflow: hidden;
            white-space: nowrap;
            text-overflow: ellipsis;
            cursor: pointer;
            margin-bottom: 15px;
        }
        #copyButton {
            background: linear-gradient(135deg, #ffcc00, #ff9500);
            color: #4a2c00;
        }
        #copyButton:hover {
            background: linear-gradient(135deg, #ff9500, #d35400);
        }
        .firecracker-particle {
            position: absolute;
            border-radius: 50%;
            opacity: 0;
            animation: firecrackerBurst var(--duration) ease-out forwards;
            z-index: 1;
            background: radial-gradient(circle at center, var(--particle-color) 0%, transparent 70%);
        }
        @keyframes firecrackerBurst {
            0% {
                opacity: 0;
                transform: translate(var(--initial-x), var(--initial-y)) scale(0);
            }
            10% {
                opacity: 1;
                transform: translate(var(--initial-x), var(--initial-y)) scale(1);
            }
            100% {
                opacity: 0;
                transform: translate(var(--target-x), var(--target-y)) scale(0.5);
            }
        }
        .sender-info {
            background-color: rgba(255, 215, 0, 0.2);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 20px;
            border-left: 5px solid #ffcc00;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .sender-info p {
            margin: 0;
            font-size: 1.2em;
            color: #8B0000;
            font-weight: 600;
        }
        .rakhi-decoration {
            position: absolute;
            top: -15px;
            right: -15px;
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, #ffcc00 0%, #ff9500 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 3;
        }
        .rakhi-decoration::before {
            content: "🧵";
            font-size: 2.5em;
        }
        .rakhi-thread {
            position: absolute;
            top: 0;
            left: 50%;
            width: 2px;
            height: 100%;
            background: linear-gradient(to bottom, transparent, #ffcc00, transparent);
            transform: translateX(-50%);
            z-index: 1;
            opacity: 0.7;
        }
        .rakhi-thread::before, .rakhi-thread::after {
            content: "";
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #ffcc00;
            border-radius: 50%;
        }
        .rakhi-thread::before {
            top: 20%;
            left: -4px;
        }
        .rakhi-thread::after {
            top: 40%;
            left: -4px;
        }
        .footer-message {
            margin-top: 20px;
            font-size: 1.1em;
            color: #8B4513;
            font-weight: 600;
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { opacity: 0.7; }
            50% { opacity: 1; }
            100% { opacity: 0.7; }
        }
        @media (max-width: 480px) {
            #container {
                padding: 15px 20px;
            }
            label, input[type="text"], button {
                font-size: 1.1em;
            }
            input[type="text"] {
                padding: 12px;
            }
            button {
                padding: 14px 25px;
            }
            .rakhi-decoration {
                width: 60px;
                height: 60px;
            }
            .rakhi-decoration::before {
                font-size: 2em;
            }
            .shayari-text {
                font-size: 1.2em;
            }
        }
    </style>
</head>
<body>
    <div class="rakhi-thread"></div>
    <div id="container">
        <div class="rakhi-decoration"></div>
        <h1 id="greetingMessage">रक्षाबंधन की हार्दिक शुभकामनाएं!</h1>
        <img id="laxmiImage" src="laxmi.gif" alt="Laxmi Ji Rakhi Animation">
        
        <div class="shayari-container">
            <p id="shayariText" class="shayari-text"></p>
        </div>
        
        <div id="senderInfo" class="sender-info" style="display: none;">
            <p id="senderMessage"></p>
        </div>
        
        <label id="inputLabel" for="userNameInput">अपना या जिसके लिए लिंक बना रहे हैं, उनका शुभ नाम दर्ज करें:</label>
        <input type="text" id="userNameInput" placeholder="जैसे: राहुल">
        
        <div class="action-buttons">
            <button id="whatsappShareBtn"><i class="fab fa-whatsapp"></i> WhatsApp पर शेयर करें</button>
        </div>
        
        <div id="generatedLinkContainer">
            <p>या यह शुभ लिंक कॉपी करें:</p>
            <input type="text" id="generatedLink" readonly onclick="copyLink()">
            <button id="copyButton" onclick="copyLink()"><i class="fas fa-copy"></i> कॉपी करें</button>
        </div>
        
        <div class="footer-message">
            भाई-बहन का प्यार हमेशा बना रहे 🙏
        </div>
    </div>
    
    <script>
        const greetingMessage = document.getElementById('greetingMessage');
        const userNameInput = document.getElementById('userNameInput');
        const whatsappShareBtn = document.getElementById('whatsappShareBtn');
        const generatedLinkContainer = document.getElementById('generatedLinkContainer');
        const generatedLinkInput = document.getElementById('generatedLink');
        const laxmiImage = document.getElementById('laxmiImage');
        const senderInfo = document.getElementById('senderInfo');
        const senderMessage = document.getElementById('senderMessage');
        const inputLabel = document.getElementById('inputLabel');
        const shayariText = document.getElementById('shayariText');
        let sharableLink = "";
        
        // Array of shayari for Raksha Bandhan
        const shayariArray = [
            "बहना के लिए रक्षा सूत्र है, भाई के लिए प्यार का बंधन है। रक्षाबंधन का त्योहार है, यही तो जीवन का अनमोल उपहार है।",
            "राखी का त्योहार है, प्यार का त्योहार है। भाई-बहन के रिश्ते को और मजबूत बनाने का त्योहार है।",
            "बहन की ममता, भाई का साथ, यही है जीवन की सबसे अनमोल निधि। रक्षाबंधन की शुभकामनाएं!",
            "राखी बांधकर बहन ने मांगा वादा, भाई ने दिया साथ निभाने का वादा। यही है रक्षाबंधन का सच्चा अर्थ।",
            "बहन का प्यार, भाई का आशीर्वाद, यही है रक्षाबंधन का संदेश। इस प्यारे रिश्ते को सदैव सलामत रखना।",
            "राखी का धागा और भाई का वादा, यही है जीवन की सबसे खास बात। रक्षाबंधन की हार्दिक शुभकामनाएं!",
            "बहन की यादें, भाई का साथ, यही है जीवन की सबसे प्यारी बात। रक्षाबंधन पर भेजा यह संदेश।",
            "राखी बांधकर बहन ने कहा, भाई तुम हमेशा मेरे साथ रहना। भाई ने दिया वादा, हमेशा तुम्हारा ख्याल रखना।"
        ];
        
        // Function to get a random shayari
        function getRandomShayari() {
            const randomIndex = Math.floor(Math.random() * shayariArray.length);
            return shayariArray[randomIndex];
        }
        
        function createFirecrackerEffect() {
            const totalParticles = 150;
            const baseDuration = 3000;
            const colors = [
                '#FFD700', '#FF4500', '#ADFF2F', '#00BFFF', '#EE82EE', 
                '#FF69B4', '#9932CC', '#FFA07A', '#7FFF00', '#DDA0DD', 
                '#F0E68C', '#ADD8E6', '#FFB6C1', '#BA55D3', '#00FFFF', 
                '#FFFF00', '#FF0000', '#00FF00', '#0000FF' 
            ];
            const spawnMinY = window.innerHeight * 0.8;
            const spawnMaxY = window.innerHeight;
            const numWaves = 5;
            const particlesPerWave = totalParticles / numWaves;
            const delayBetweenWaves = 300;
            
            for (let wave = 0; wave < numWaves; wave++) {
                setTimeout(() => {
                    for (let i = 0; i < particlesPerWave; i++) {
                        const particle = document.createElement('div');
                        particle.classList.add('firecracker-particle');
                        
                        const size = Math.random() * 25 + 10;
                        particle.style.width = `${size}px`;
                        particle.style.height = `${size}px`;
                        
                        const initialX = Math.random() * window.innerWidth;
                        const initialY = Math.random() * (spawnMaxY - spawnMinY) + spawnMinY;
                        
                        particle.style.left = `${initialX}px`;
                        particle.style.top = `${initialY}px`;
                        
                        const angle = Math.random() * Math.PI * 2;
                        const distance = Math.random() * 800 + 300;
                        
                        const targetX = initialX + distance * Math.cos(angle);
                        const targetY = initialY + (distance * Math.sin(angle) - (Math.random() * window.innerHeight * 0.7 + window.innerHeight * 0.2));
                        
                        particle.style.setProperty('--initial-x', '0px');
                        particle.style.setProperty('--initial-y', '0px');
                        particle.style.setProperty('--target-x', `${targetX - initialX}px`);
                        particle.style.setProperty('--target-y', `${targetY - initialY}px`);
                        particle.style.setProperty('--particle-color', colors[Math.floor(Math.random() * colors.length)]);
                        particle.style.setProperty('--duration', `${baseDuration + Math.random() * 1000}ms`);
                        particle.style.animationDelay = `${Math.random() * 500}ms`;
                        
                        document.body.appendChild(particle);
                        
                        setTimeout(() => {
                            particle.remove();
                        }, baseDuration + 1500);
                    }
                }, wave * delayBetweenWaves);
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            createFirecrackerEffect();
            const params = new URLSearchParams(window.location.search);
            const senderName = params.get('sender');
            
            // Set random shayari
            shayariText.textContent = getRandomShayari();
            
            if (senderName) {
                greetingMessage.textContent = "रक्षाबंधन की हार्दिक शुभकामनाएं!";
                senderMessage.textContent = `यह शुभकामना ${decodeURIComponent(senderName)} ने भेजी है`;
                senderInfo.style.display = 'block';
                inputLabel.textContent = "अपना शुभ नाम दर्ज करें और अपने दोस्तों को भेजें:";
                userNameInput.placeholder = "जैसे: आपका नाम";
                userNameInput.value = "";
                generatedLinkContainer.style.display = 'none';
            } else {
                greetingMessage.textContent = "रक्षाबंधन की हार्दिक शुभकामनाएं!";
                senderInfo.style.display = 'none';
                inputLabel.textContent = "अपना या जिसके लिए लिंक बना रहे हैं, उनका शुभ नाम दर्ज करें:";
                userNameInput.placeholder = "जैसे: राहुल";
                generatedLinkContainer.style.display = 'none';
            }
        });
        
        whatsappShareBtn.addEventListener('click', () => {
            const userName = userNameInput.value.trim();
            if (userName === "") {
                alert("कृपया अपना शुभ नाम दर्ज करें!");
                return;
            }
            
            createFirecrackerEffect();
            
            const currentBaseUrl = window.location.origin + window.location.pathname;
            const encodedUserName = encodeURIComponent(userName);
            sharableLink = `${currentBaseUrl}?sender=${encodedUserName}`;
            generatedLinkInput.value = sharableLink;
            generatedLinkContainer.style.display = 'block';
            
            const shareText = `🎉 आपको और आपके परिवार को ${userName} की ओर से रक्षाबंधन की हार्दिक शुभकामनाएं! इस विशेष कार्ड को देखें:`;
            const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(shareText + '\n' + sharableLink)}`;
            
            window.open(whatsappUrl, '_blank');
        });
        
        function copyLink() {
            generatedLinkInput.select();
            generatedLinkInput.setSelectionRange(0, 99999);
            
            try {
                navigator.clipboard.writeText(generatedLinkInput.value)
                    .then(() => {
                        alert("शुभ लिंक कॉपी हो गया है! आप इसे किसी को भी भेज सकते हैं!");
                    })
                    .catch(err => {
                        console.error('लिंक कॉपी करने में त्रुटि:', err);
                        alert("लिंक कॉपी नहीं हो सका। कृपया मैन्युअल रूप से कॉपी करें।");
                    });
            } catch (err) {
                console.error('क्लिपबोर्ड API उपलब्ध नहीं:', err);
                alert("लिंक कॉपी नहीं हो सका। कृपया मैन्युअल रूप से कॉपी करें (Ctrl+C / Cmd+C)।");
            }
        }
    </script>
    
    <script type="text/javascript">
        atOptions = {
            'key' : 'daf61e16b5a524095c467993ff44ef5d',
            'format' : 'iframe',
            'height' : 50,
            'width' : 320,
            'params' : {}
        };
    </script>
    <script type="text/javascript" src="//www.highperformanceformat.com/daf61e16b5a524095c467993ff44ef5d/invoke.js"></script>
</body>
</html>
